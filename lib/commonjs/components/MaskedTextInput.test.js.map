{"version":3,"names":["describe","mockedOnChangeText","jest","fn","test","container","render","expect","toMatchSnapshot","getByDisplayValue","toBeTruthy","prefix","decimalSeparator","groupSeparator","precision","fireEvent","changeText","getByTestId","waitFor","Keyboard","dismiss","tree","toJSON","props","inputAccessoryViewID","toBe","nativeID","toHaveStyle","fontWeight","fontStyle","textDecorationLine"],"sources":["MaskedTextInput.test.tsx"],"sourcesContent":["import React from 'react'\r\nimport { render, fireEvent, waitFor } from '@testing-library/react-native';\r\nimport { MaskedTextInput } from './MaskedTextInput';\r\nimport { Button, Keyboard, InputAccessoryView } from 'react-native';\r\n\r\n\r\ndescribe('<MaskedTextInput />', () => {\r\n  const mockedOnChangeText = jest.fn();\r\n\r\n  test('should render correctly without a mask', () => {\r\n    const container = render(\r\n      <MaskedTextInput value=\"with space and special* characters;\" onChangeText={mockedOnChangeText} />,\r\n    );\r\n    expect(container).toMatchSnapshot();\r\n  })\r\n\r\n  test('should renders correctly with custom mask', () => {\r\n    const container = render(\r\n      <MaskedTextInput mask=\"AAA-999\" onChangeText={mockedOnChangeText} />,\r\n    );\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n\r\n  test('should renders correctly with custom mask default value', () => {\r\n    const container = render(\r\n      <MaskedTextInput\r\n        mask=\"AAA-999\"\r\n        onChangeText={mockedOnChangeText}\r\n        defaultValue=\"ABC-123\"\r\n      />\r\n    );\r\n    expect(container.getByDisplayValue('ABC-123')).toBeTruthy()\r\n  });\r\n\r\n  test('should renders correctly with currency mask', () => {\r\n    const container = render(\r\n      <MaskedTextInput\r\n        type=\"currency\"\r\n        options={{\r\n          prefix: '$',\r\n          decimalSeparator: '.',\r\n          groupSeparator: ',',\r\n          precision: 2,\r\n        }}\r\n        onChangeText={mockedOnChangeText}\r\n      />\r\n    );\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n\r\n  test('should mask input text with custom mask', async () => {\r\n    const container = render(\r\n      <MaskedTextInput\r\n        mask=\"AAA-999\"\r\n        onChangeText={mockedOnChangeText}\r\n        testID=\"masked-text-input\"\r\n      />\r\n    );\r\n\r\n    fireEvent.changeText(container.getByTestId('masked-text-input'), 'RCT777')\r\n\r\n    await waitFor(() => {\r\n      expect(container.getByDisplayValue('RCT-777')).toBeTruthy()\r\n    })\r\n  });\r\n\r\n  test('should mask input text with currency mask', async () => {\r\n    const container = render(\r\n      <MaskedTextInput\r\n        type=\"currency\"\r\n        options={{\r\n          prefix: '$',\r\n          decimalSeparator: '.',\r\n          groupSeparator: ',',\r\n          precision: 2,\r\n        }}\r\n        onChangeText={mockedOnChangeText}\r\n        testID=\"masked-text-input\"\r\n      />\r\n    );\r\n\r\n    fireEvent.changeText(container.getByTestId('masked-text-input'), '5999')\r\n\r\n    await waitFor(() => {\r\n      expect(container.getByDisplayValue('$59.99')).toBeTruthy()\r\n    })\r\n  });\r\n\r\n  test('should renders correctly with an accessory view', () => {\r\n    const container = render(\r\n      <MaskedTextInput         \r\n      type=\"currency\"\r\n      options={{\r\n        prefix: '$',\r\n        decimalSeparator: '.',\r\n        groupSeparator: ',',\r\n        precision: 2,\r\n      }} \r\n      onChangeText={mockedOnChangeText} \r\n      inputAccessoryViewID='Done'\r\n      inputAccessoryView={\r\n        <InputAccessoryView nativeID='Done'>\r\n        <Button\r\n          onPress={() => Keyboard.dismiss()}\r\n          title=\"Clear text\"\r\n        />\r\n        </InputAccessoryView>\r\n      }\r\n      />,\r\n    );\r\n\r\n    const tree = container.toJSON();\r\n    expect(tree[0].props.inputAccessoryViewID).toBe('Done');\r\n    expect(tree[1].props.nativeID).toBe('Done');\r\n  });\r\n  test('should be bold when the textBold attribute is added', () => {\r\n    const container  =\r\n    render(<MaskedTextInput \r\n      testID=\"masked-text-input\" \r\n      onChangeText={mockedOnChangeText} \r\n      textBold \r\n      mask=\"99/99/9999\"\r\n      />)\r\n      expect(container.getByTestId('masked-text-input')).toHaveStyle({fontWeight: 'bold' });\r\n    });\r\n    test('should be italic when the textItalic attribute is added', () => {\r\n      const container  =\r\n      render(<MaskedTextInput \r\n        testID=\"masked-text-input\" \r\n        onChangeText={mockedOnChangeText} \r\n        textItalic \r\n        mask=\"99/99/9999\"\r\n        />)\r\n        expect(container.getByTestId('masked-text-input')).toHaveStyle({fontStyle: 'italic' });\r\n    });\r\n    test('should be the line style added to the text when the textDecoration attribute has a non-null value', () => {\r\n      const textDecorationLine = 'underline'\r\n      const container  =\r\n      render(<MaskedTextInput\r\n        testID=\"masked-text-input\" \r\n        onChangeText={mockedOnChangeText} \r\n        textDecoration={textDecorationLine} \r\n        mask=\"99/99/9999\"\r\n        />)\r\n        expect(container.getByTestId('masked-text-input')).toHaveStyle({textDecorationLine: textDecorationLine });\r\n    });  \r\n});\r\n"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AAGAA,QAAQ,CAAC,qBAAD,EAAwB,MAAM;EACpC,MAAMC,kBAAkB,GAAGC,IAAI,CAACC,EAAL,EAA3B;EAEAC,IAAI,CAAC,wCAAD,EAA2C,MAAM;IACnD,MAAMC,SAAS,GAAG,IAAAC,mBAAA,gBAChB,6BAAC,gCAAD;MAAiB,KAAK,EAAC,qCAAvB;MAA6D,YAAY,EAAEL;IAA3E,EADgB,CAAlB;IAGAM,MAAM,CAACF,SAAD,CAAN,CAAkBG,eAAlB;EACD,CALG,CAAJ;EAOAJ,IAAI,CAAC,2CAAD,EAA8C,MAAM;IACtD,MAAMC,SAAS,GAAG,IAAAC,mBAAA,gBAChB,6BAAC,gCAAD;MAAiB,IAAI,EAAC,SAAtB;MAAgC,YAAY,EAAEL;IAA9C,EADgB,CAAlB;IAGAM,MAAM,CAACF,SAAD,CAAN,CAAkBG,eAAlB;EACD,CALG,CAAJ;EAOAJ,IAAI,CAAC,yDAAD,EAA4D,MAAM;IACpE,MAAMC,SAAS,GAAG,IAAAC,mBAAA,gBAChB,6BAAC,gCAAD;MACE,IAAI,EAAC,SADP;MAEE,YAAY,EAAEL,kBAFhB;MAGE,YAAY,EAAC;IAHf,EADgB,CAAlB;IAOAM,MAAM,CAACF,SAAS,CAACI,iBAAV,CAA4B,SAA5B,CAAD,CAAN,CAA+CC,UAA/C;EACD,CATG,CAAJ;EAWAN,IAAI,CAAC,6CAAD,EAAgD,MAAM;IACxD,MAAMC,SAAS,GAAG,IAAAC,mBAAA,gBAChB,6BAAC,gCAAD;MACE,IAAI,EAAC,UADP;MAEE,OAAO,EAAE;QACPK,MAAM,EAAE,GADD;QAEPC,gBAAgB,EAAE,GAFX;QAGPC,cAAc,EAAE,GAHT;QAIPC,SAAS,EAAE;MAJJ,CAFX;MAQE,YAAY,EAAEb;IARhB,EADgB,CAAlB;IAYAM,MAAM,CAACF,SAAD,CAAN,CAAkBG,eAAlB;EACD,CAdG,CAAJ;EAgBAJ,IAAI,CAAC,yCAAD,EAA4C,YAAY;IAC1D,MAAMC,SAAS,GAAG,IAAAC,mBAAA,gBAChB,6BAAC,gCAAD;MACE,IAAI,EAAC,SADP;MAEE,YAAY,EAAEL,kBAFhB;MAGE,MAAM,EAAC;IAHT,EADgB,CAAlB;;IAQAc,sBAAA,CAAUC,UAAV,CAAqBX,SAAS,CAACY,WAAV,CAAsB,mBAAtB,CAArB,EAAiE,QAAjE;;IAEA,MAAM,IAAAC,oBAAA,EAAQ,MAAM;MAClBX,MAAM,CAACF,SAAS,CAACI,iBAAV,CAA4B,SAA5B,CAAD,CAAN,CAA+CC,UAA/C;IACD,CAFK,CAAN;EAGD,CAdG,CAAJ;EAgBAN,IAAI,CAAC,2CAAD,EAA8C,YAAY;IAC5D,MAAMC,SAAS,GAAG,IAAAC,mBAAA,gBAChB,6BAAC,gCAAD;MACE,IAAI,EAAC,UADP;MAEE,OAAO,EAAE;QACPK,MAAM,EAAE,GADD;QAEPC,gBAAgB,EAAE,GAFX;QAGPC,cAAc,EAAE,GAHT;QAIPC,SAAS,EAAE;MAJJ,CAFX;MAQE,YAAY,EAAEb,kBARhB;MASE,MAAM,EAAC;IATT,EADgB,CAAlB;;IAcAc,sBAAA,CAAUC,UAAV,CAAqBX,SAAS,CAACY,WAAV,CAAsB,mBAAtB,CAArB,EAAiE,MAAjE;;IAEA,MAAM,IAAAC,oBAAA,EAAQ,MAAM;MAClBX,MAAM,CAACF,SAAS,CAACI,iBAAV,CAA4B,QAA5B,CAAD,CAAN,CAA8CC,UAA9C;IACD,CAFK,CAAN;EAGD,CApBG,CAAJ;EAsBAN,IAAI,CAAC,iDAAD,EAAoD,MAAM;IAC5D,MAAMC,SAAS,GAAG,IAAAC,mBAAA,gBAChB,6BAAC,gCAAD;MACA,IAAI,EAAC,UADL;MAEA,OAAO,EAAE;QACPK,MAAM,EAAE,GADD;QAEPC,gBAAgB,EAAE,GAFX;QAGPC,cAAc,EAAE,GAHT;QAIPC,SAAS,EAAE;MAJJ,CAFT;MAQA,YAAY,EAAEb,kBARd;MASA,oBAAoB,EAAC,MATrB;MAUA,kBAAkB,eAChB,6BAAC,gCAAD;QAAoB,QAAQ,EAAC;MAA7B,gBACA,6BAAC,oBAAD;QACE,OAAO,EAAE,MAAMkB,sBAAA,CAASC,OAAT,EADjB;QAEE,KAAK,EAAC;MAFR,EADA;IAXF,EADgB,CAAlB;IAsBA,MAAMC,IAAI,GAAGhB,SAAS,CAACiB,MAAV,EAAb;IACAf,MAAM,CAACc,IAAI,CAAC,CAAD,CAAJ,CAAQE,KAAR,CAAcC,oBAAf,CAAN,CAA2CC,IAA3C,CAAgD,MAAhD;IACAlB,MAAM,CAACc,IAAI,CAAC,CAAD,CAAJ,CAAQE,KAAR,CAAcG,QAAf,CAAN,CAA+BD,IAA/B,CAAoC,MAApC;EACD,CA1BG,CAAJ;EA2BArB,IAAI,CAAC,qDAAD,EAAwD,MAAM;IAChE,MAAMC,SAAS,GACf,IAAAC,mBAAA,gBAAO,6BAAC,gCAAD;MACL,MAAM,EAAC,mBADF;MAEL,YAAY,EAAEL,kBAFT;MAGL,QAAQ,MAHH;MAIL,IAAI,EAAC;IAJA,EAAP,CADA;IAOEM,MAAM,CAACF,SAAS,CAACY,WAAV,CAAsB,mBAAtB,CAAD,CAAN,CAAmDU,WAAnD,CAA+D;MAACC,UAAU,EAAE;IAAb,CAA/D;EACD,CATC,CAAJ;EAUExB,IAAI,CAAC,yDAAD,EAA4D,MAAM;IACpE,MAAMC,SAAS,GACf,IAAAC,mBAAA,gBAAO,6BAAC,gCAAD;MACL,MAAM,EAAC,mBADF;MAEL,YAAY,EAAEL,kBAFT;MAGL,UAAU,MAHL;MAIL,IAAI,EAAC;IAJA,EAAP,CADA;IAOEM,MAAM,CAACF,SAAS,CAACY,WAAV,CAAsB,mBAAtB,CAAD,CAAN,CAAmDU,WAAnD,CAA+D;MAACE,SAAS,EAAE;IAAZ,CAA/D;EACH,CATG,CAAJ;EAUAzB,IAAI,CAAC,mGAAD,EAAsG,MAAM;IAC9G,MAAM0B,kBAAkB,GAAG,WAA3B;IACA,MAAMzB,SAAS,GACf,IAAAC,mBAAA,gBAAO,6BAAC,gCAAD;MACL,MAAM,EAAC,mBADF;MAEL,YAAY,EAAEL,kBAFT;MAGL,cAAc,EAAE6B,kBAHX;MAIL,IAAI,EAAC;IAJA,EAAP,CADA;IAOEvB,MAAM,CAACF,SAAS,CAACY,WAAV,CAAsB,mBAAtB,CAAD,CAAN,CAAmDU,WAAnD,CAA+D;MAACG,kBAAkB,EAAEA;IAArB,CAA/D;EACH,CAVG,CAAJ;AAWH,CA5IO,CAAR"}