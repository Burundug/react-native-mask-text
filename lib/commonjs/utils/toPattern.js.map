{"version":3,"names":["toPattern","value","optionPattern","pattern","patternChars","replace","output","split","values","toString","charsValues","placeholder","undefined","charCounter","index","outputLength","length","console","log","join","addPlaceholder","DIGIT","match","ALPHA","ALPHANUM","HOURS","MINUTES","SECONDS","slice","substr"],"sources":["toPattern.ts"],"sourcesContent":["import { DIGIT, ALPHA, ALPHANUM, MINUTES, SECONDS, HOURS } from './constants'\r\nimport addPlaceholder from './addPlaceholder'\r\n\r\ntype OptionPattern = {\r\n  pattern: string\r\n  placeholder: string\r\n}\r\n\r\n/**\r\n * function toPattern\r\n * @param {number | string} value\r\n * @param {string | OptionPattern} optionPattern\r\n * @returns {string}\r\n */\r\nfunction toPattern(\r\n  value: number | string,\r\n  optionPattern: string | OptionPattern\r\n): string {\r\n  const pattern =\r\n    typeof optionPattern === 'object' ? optionPattern.pattern : optionPattern\r\n  const patternChars = pattern.replace('#', '')\r\n  const output = pattern.split('')\r\n  const values = value.toString().replace('#', '')\r\n  const charsValues = values.replace('#', '')\r\n  const placeholder =\r\n    typeof optionPattern === 'object' ? optionPattern.placeholder : undefined\r\n  let charCounter = 0\r\n  let index\r\n  const outputLength = output.length\r\n  for (index = 0; index < outputLength; index++) {\r\n    console.log(values[charCounter])\r\n    // Reached the end of input\r\n    if (charCounter >= values.length) {\r\n      if (patternChars.length === charsValues.length) {\r\n        return output.join('')\r\n      }\r\n      if (\r\n        placeholder !== undefined &&\r\n        patternChars.length > charsValues.length\r\n      ) {\r\n        return addPlaceholder(output, index, placeholder).join('')\r\n      }\r\n      break\r\n    } else if (\r\n      (output[index] === DIGIT && values[charCounter].match(/[0-9]/)) ||\r\n      (output[index] === ALPHA && values[charCounter].match(/[a-zA-Z]/)) ||\r\n      (output[index] === ALPHANUM &&\r\n        values[charCounter].match(/[0-9a-zA-Z]/)) ||\r\n      (output[index] === HOURS && values[charCounter].match(/[0-23]/)) ||\r\n      (output[index] === MINUTES && values[charCounter].match(/[0-59]/)) ||\r\n      (output[index] === SECONDS && values[charCounter].match(/[0-59]/))\r\n    ) {\r\n      output[index] = values[charCounter++]\r\n    } else if (\r\n      output[index] === DIGIT ||\r\n      output[index] === ALPHA ||\r\n      output[index] === ALPHANUM ||\r\n      output[index] === HOURS ||\r\n      output[index] === MINUTES ||\r\n      output[index] === SECONDS\r\n    ) {\r\n      if (placeholder !== undefined) {\r\n        return addPlaceholder(output, index, placeholder).join('')\r\n      }\r\n      return output.slice(0, index).join('')\r\n\r\n      // exact match for a non-magic character\r\n    } else if (output[index] === values[charCounter]) {\r\n      charCounter++\r\n    }\r\n  }\r\n  return output.join('').substr(0, index)\r\n}\r\n\r\nexport default toPattern\r\n"],"mappings":"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"}