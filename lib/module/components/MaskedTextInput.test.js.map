{"version":3,"names":["React","render","fireEvent","waitFor","MaskedTextInput","Button","Keyboard","InputAccessoryView","describe","mockedOnChangeText","jest","fn","test","container","expect","toMatchSnapshot","getByDisplayValue","toBeTruthy","prefix","decimalSeparator","groupSeparator","precision","changeText","getByTestId","dismiss","tree","toJSON","props","inputAccessoryViewID","toBe","nativeID","toHaveStyle","fontWeight","fontStyle","textDecorationLine"],"sources":["MaskedTextInput.test.tsx"],"sourcesContent":["import React from 'react'\r\nimport { render, fireEvent, waitFor } from '@testing-library/react-native';\r\nimport { MaskedTextInput } from './MaskedTextInput';\r\nimport { Button, Keyboard, InputAccessoryView } from 'react-native';\r\n\r\n\r\ndescribe('<MaskedTextInput />', () => {\r\n  const mockedOnChangeText = jest.fn();\r\n\r\n  test('should render correctly without a mask', () => {\r\n    const container = render(\r\n      <MaskedTextInput value=\"with space and special* characters;\" onChangeText={mockedOnChangeText} />,\r\n    );\r\n    expect(container).toMatchSnapshot();\r\n  })\r\n\r\n  test('should renders correctly with custom mask', () => {\r\n    const container = render(\r\n      <MaskedTextInput mask=\"AAA-999\" onChangeText={mockedOnChangeText} />,\r\n    );\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n\r\n  test('should renders correctly with custom mask default value', () => {\r\n    const container = render(\r\n      <MaskedTextInput\r\n        mask=\"AAA-999\"\r\n        onChangeText={mockedOnChangeText}\r\n        defaultValue=\"ABC-123\"\r\n      />\r\n    );\r\n    expect(container.getByDisplayValue('ABC-123')).toBeTruthy()\r\n  });\r\n\r\n  test('should renders correctly with currency mask', () => {\r\n    const container = render(\r\n      <MaskedTextInput\r\n        type=\"currency\"\r\n        options={{\r\n          prefix: '$',\r\n          decimalSeparator: '.',\r\n          groupSeparator: ',',\r\n          precision: 2,\r\n        }}\r\n        onChangeText={mockedOnChangeText}\r\n      />\r\n    );\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n\r\n  test('should mask input text with custom mask', async () => {\r\n    const container = render(\r\n      <MaskedTextInput\r\n        mask=\"AAA-999\"\r\n        onChangeText={mockedOnChangeText}\r\n        testID=\"masked-text-input\"\r\n      />\r\n    );\r\n\r\n    fireEvent.changeText(container.getByTestId('masked-text-input'), 'RCT777')\r\n\r\n    await waitFor(() => {\r\n      expect(container.getByDisplayValue('RCT-777')).toBeTruthy()\r\n    })\r\n  });\r\n\r\n  test('should mask input text with currency mask', async () => {\r\n    const container = render(\r\n      <MaskedTextInput\r\n        type=\"currency\"\r\n        options={{\r\n          prefix: '$',\r\n          decimalSeparator: '.',\r\n          groupSeparator: ',',\r\n          precision: 2,\r\n        }}\r\n        onChangeText={mockedOnChangeText}\r\n        testID=\"masked-text-input\"\r\n      />\r\n    );\r\n\r\n    fireEvent.changeText(container.getByTestId('masked-text-input'), '5999')\r\n\r\n    await waitFor(() => {\r\n      expect(container.getByDisplayValue('$59.99')).toBeTruthy()\r\n    })\r\n  });\r\n\r\n  test('should renders correctly with an accessory view', () => {\r\n    const container = render(\r\n      <MaskedTextInput         \r\n      type=\"currency\"\r\n      options={{\r\n        prefix: '$',\r\n        decimalSeparator: '.',\r\n        groupSeparator: ',',\r\n        precision: 2,\r\n      }} \r\n      onChangeText={mockedOnChangeText} \r\n      inputAccessoryViewID='Done'\r\n      inputAccessoryView={\r\n        <InputAccessoryView nativeID='Done'>\r\n        <Button\r\n          onPress={() => Keyboard.dismiss()}\r\n          title=\"Clear text\"\r\n        />\r\n        </InputAccessoryView>\r\n      }\r\n      />,\r\n    );\r\n\r\n    const tree = container.toJSON();\r\n    expect(tree[0].props.inputAccessoryViewID).toBe('Done');\r\n    expect(tree[1].props.nativeID).toBe('Done');\r\n  });\r\n  test('should be bold when the textBold attribute is added', () => {\r\n    const container  =\r\n    render(<MaskedTextInput \r\n      testID=\"masked-text-input\" \r\n      onChangeText={mockedOnChangeText} \r\n      textBold \r\n      mask=\"99/99/9999\"\r\n      />)\r\n      expect(container.getByTestId('masked-text-input')).toHaveStyle({fontWeight: 'bold' });\r\n    });\r\n    test('should be italic when the textItalic attribute is added', () => {\r\n      const container  =\r\n      render(<MaskedTextInput \r\n        testID=\"masked-text-input\" \r\n        onChangeText={mockedOnChangeText} \r\n        textItalic \r\n        mask=\"99/99/9999\"\r\n        />)\r\n        expect(container.getByTestId('masked-text-input')).toHaveStyle({fontStyle: 'italic' });\r\n    });\r\n    test('should be the line style added to the text when the textDecoration attribute has a non-null value', () => {\r\n      const textDecorationLine = 'underline'\r\n      const container  =\r\n      render(<MaskedTextInput\r\n        testID=\"masked-text-input\" \r\n        onChangeText={mockedOnChangeText} \r\n        textDecoration={textDecorationLine} \r\n        mask=\"99/99/9999\"\r\n        />)\r\n        expect(container.getByTestId('masked-text-input')).toHaveStyle({textDecorationLine: textDecorationLine });\r\n    });  \r\n});\r\n"],"mappings":"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"}